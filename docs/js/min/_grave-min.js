function Grave(){var e=this,t,i,o,n,s,r,d=!0;this.size=10,this.depth=.1*e.size,this.w=.5*e.size,this.h=e.size,this.image=null,this.website=null,this.loadingTexture=!1,this.rise=function(){e.h=e.w/800*e.website.height,e.model.geometry=new THREE.BoxGeometry(e.w,e.h,e.depth),e.model.position.y=-e.h/2;var t=new TWEEN.Tween(e.model.position).to({y:e.h/2+.5},6e3).onUpdate((function(){})).onComplete((function(){e.loadingTexture=!1})).easing(TWEEN.Easing.Quadratic.InOut).start()},this.init=function(t,i){var o;return new Promise((function(o,n){console.log("INIT!!!"),e.geometry=new THREE.BoxGeometry(e.w,e.h,e.depth),e.model=new THREE.Mesh(e.geometry),e.model.position.y=-e.h/2,e.model.position.x=t,e.model.position.z=i,e.model.rotation.y=90*Math.PI/180,e.model.receiveShadow=!0,e.model.castShadow=!0,scene.add(e.model),e.texturise().then((function(){o()}))}))},this.texturise=function(){var t;return e.model.position.y=-e.h/2,shuffledIndex=shuffledIndex<shuffled.length-1?shuffledIndex+1:0,e.website=websites[shuffled[shuffledIndex]],new Promise((function(t,i){if(e.loadingTexture)t();else{e.loadingTexture=!0;var o,n=(new THREE.TextureLoader).load("graves/"+e.website.url,(function(){var i=new THREE.MeshPhongMaterial({color:e.website.rgb});n.minFilter=THREE.LinearFilter;var o=new THREE.MeshBasicMaterial({map:n,needsUpdate:!0}),s=[i,i,i,i,o,o];e.model.material=s,e.model.needsUpdate=!0,e.rise(),t()}))}}))}}import*as THREE from"../three.js-r112/build/three.module.js";export{Grave as default};